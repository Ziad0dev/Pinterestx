{% extends "base.html" %}

{% block title %}PinterestX - Image Downloader{% endblock title %}

{% block content %}
<div class="text-center mb-8">
    <p class="text-gray-600 mb-6">Download high-quality images from Pinterest for your wallpapers, design projects, and more!</p>
    
    <div class="flex justify-center mb-6">
        <div class="inline-flex space-x-1">
            <span class="inline-block px-3 py-1 bg-primary text-white rounded-lg font-medium text-sm">Fast</span>
            <span class="inline-block px-3 py-1 bg-primary text-white rounded-lg font-medium text-sm">Easy</span>
            <span class="inline-block px-3 py-1 bg-primary text-white rounded-lg font-medium text-sm">High Quality</span>
        </div>
    </div>
</div>

<form hx-post="/download"
      hx-target="#download-results"
      hx-swap="innerHTML"
      hx-indicator="#loading-indicator"
      class="space-y-6">

    <div class="mb-6">
        <label for="url" class="block text-sm font-semibold text-gray-700 mb-2">Pinterest URL <span class="text-primary">*</span></label>
        <input type="url" id="url" name="url" required
               class="input-field w-full px-4 py-3 rounded-lg focus:outline-none"
               placeholder="https://www.pinterest.com/username/board-name/">
        <p class="text-xs text-gray-500 mt-1">Enter a Pinterest board, pin, or profile URL</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
            <label for="genre" class="block text-sm font-semibold text-gray-700 mb-2">Genre <span class="text-gray-400">(optional)</span></label>
            <input type="text" id="genre" name="genre"
                   class="input-field w-full px-4 py-3 rounded-lg focus:outline-none"
                   placeholder="e.g., Landscapes, Anime">
            <p class="text-xs text-gray-500 mt-1">Category for organizing downloads</p>
        </div>

        <div>
            <label for="query" class="block text-sm font-semibold text-gray-700 mb-2">Collection Name <span class="text-gray-400">(optional)</span></label>
            <input type="text" id="query" name="query"
                   class="input-field w-full px-4 py-3 rounded-lg focus:outline-none"
                   placeholder="e.g., Nature, Profile Pics">
            <p class="text-xs text-gray-500 mt-1">Folder name for your downloads</p>
        </div>
    </div>

    <div>
        <label for="quality" class="block text-sm font-semibold text-gray-700 mb-2">Image Quality</label>
        <select id="quality" name="quality"
                class="input-field w-full px-4 py-3 rounded-lg bg-white focus:outline-none">
            <option value="original">Original (Highest Quality)</option>
            <option value="736x">Large (736px)</option>
            <option value="474x">Medium (474px)</option>
            <option value="236x">Small (236px)</option>
        </select>
        <p class="text-xs text-gray-500 mt-1">Choose the image size you need</p>
    </div>

    <div class="pt-4">
        <button type="submit"
                class="submit-btn w-full flex justify-center items-center py-3 px-4 border-0 rounded-lg shadow-sm text-base font-medium text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
            </svg>
            Download Images
            <span id="loading-indicator" class="htmx-indicator ml-2">
                <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            </span>
        </button>
    </div>
</form>

<div id="download-results" class="mt-8"></div>

<div class="text-center mt-8 text-sm text-gray-500">
    <p>Note: Images are saved to your Pictures folder organized by genre and collection name.</p>
    <p>If genre and collection name are not provided, images will be saved to the default directory.</p>
</div>
{% endblock content %} 